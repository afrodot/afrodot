'use strict';(function(a){a(function(){s('woosw_key')==''&&r('woosw_key',q(),7),a('.woosw-custom-menu-item').length&&k()}),a(document).on('woovr_selected',function(e,c,f){var d=c.attr('data-id'),b=c.attr('data-pid');d>0?a('.woosw-btn-'+b).attr('data-id',d).removeClass('woosw-btn-added woosw-added'):a('.woosw-btn-'+b).attr('data-id',b).removeClass('woosw-btn-added woosw-added')}),a(document).on('found_variation',function(b,c){var d=a(b.target).attr('data-product_id');a('.woosw-btn-'+d).attr('data-id',c.variation_id).removeClass('woosw-btn-added woosw-added')}),a(document).on('reset_data',function(c){var b=a(c.target).attr('data-product_id');a('.woosw-btn-'+b).attr('data-id',b).removeClass('woosw-btn-added woosw-added')}),a(document).on('click touch','#woosw_wishlist .woosq-link, #woosw_wishlist .woosq-btn',function(a){f(),a.preventDefault()}),a(document).on('click touch','.woosw-btn',function(k){var b=a(this),c=b.attr('data-id'),f=b.attr('data-pid'),h=b.attr('data-product_id'),l;typeof f!==typeof void 0&&f!==!1&&(c=f),typeof h!==typeof void 0&&h!==!1&&(c=h),l={action:'wishlist_add',product_id:c},b.hasClass('woosw-added')?woosw_vars.button_action_added==='page'?window.location.href=woosw_vars.wishlist_url:a('#woosw_wishlist').hasClass('woosw-loaded')?e():i():(b.addClass('woosw-adding'),a.post(woosw_vars.ajax_url,l,function(f){if(b.removeClass('woosw-adding'),f=JSON.parse(f),woosw_vars.button_action==='list')a('#woosw_wishlist').removeClass('woosw-message'),f.content!=null&&a('#woosw_wishlist').html(f.content).addClass('woosw-loaded'),f.notice!=null&&g(f.notice),j(),e();else if(woosw_vars.button_action==='message'){a('#woosw_wishlist').addClass('woosw-message');var h='<div class="woosw-popup-inner"><div class="woosw-popup-content"><div class="woosw-popup-content-top"><span class="woosw-popup-close"></span></div><div class="woosw-popup-content-mid"><div class="woosw-popup-content-mid-message">';f.image!=null&&(h+='<img src="'+f.image+'"/>'),f.notice!=null&&(h+='<span>'+f.notice+'</span>'),h+='</div></div></div></div>',a('#woosw_wishlist').html(h).removeClass('woosw-loaded'),e()}else woosw_vars.button_action==='no'&&a('#woosw_wishlist').removeClass('woosw-loaded');f.count!=null&&d(f.count),f.status===1&&b.addClass('woosw-added').html(woosw_vars.button_text_added),a(document.body).trigger('woosw_add',[c])})),k.preventDefault()}),a(document).on('click touch','.woosw-item--remove span',function(f){var b=a(this),h=b.closest('.woosw-popup-inner').data('key'),e=b.closest('.woosw-item'),c=e.attr('data-id'),i={action:'wishlist_remove',product_id:c,key:h};b.addClass('woosw-removing'),a.post(woosw_vars.ajax_url,i,function(f){b.removeClass('woosw-removing'),e.remove(),f=JSON.parse(f),f.status===1&&a('.woosw-btn-'+c).removeClass('woosw-added').html(woosw_vars.button_text),f.content!=null&&a('#woosw_wishlist').html(f.content).addClass('woosw-loaded'),f.notice!=null&&g(f.notice),f.count!=null&&d(f.count),a(document.body).trigger('woosw_remove',[c])}),f.preventDefault()}),a(document).on('click touch','.woosw-empty',function(f){var h=a(this),e,i;confirm(woosw_vars.empty_confirm)&&(b(),e=h.closest('.woosw-popup-inner').data('key'),i={action:'wishlist_empty',key:e},a.post(woosw_vars.ajax_url,i,function(b){b=JSON.parse(b),b.status===1&&a('.woosw-btn').removeClass('woosw-added').html(woosw_vars.button_text),b.content!=null&&a('#woosw_wishlist').html(b.content).addClass('woosw-loaded'),b.notice!=null&&g(b.notice),b.count!=null&&d(b.count),c()})),a(document.body).trigger('woosw_empty',[e]),f.preventDefault()}),a(document).on('click touch','.woosw-popup',function(b){var c=a('.woosw-popup-content');a(b.target).closest(c).length==0&&(f(),h())}),a(document).on('click touch','.woosw-continue',function(c){var b=a(this).attr('data-url');f(),b!==''&&(window.location.href=b),c.preventDefault()}),a(document).on('click touch','#woosw_wishlist .woosw-popup-close',function(a){f(),a.preventDefault()}),a(document).on('click touch','#woosw_manage .woosw-popup-close',function(a){h(),a.preventDefault()}),a(document).on('click touch','.woosw-manage',function(d){d.preventDefault(),b();var e={action:'manage_wishlists'};a.post(woosw_vars.ajax_url,e,function(b){f(),a('#woosw_manage').html(b),n(),c()})}),a(document).on('click touch','#woosw_add_wishlist',function(f){var d,e;f.preventDefault(),b(),d=a('#woosw_wishlist_name').val(),e={action:'add_wishlist',name:d},a.post(woosw_vars.ajax_url,e,function(b){a('#woosw_manage').html(b),a('#woosw_wishlist').removeClass('woosw-loaded'),c()})}),a(document).on('click touch','.woosw-set-default',function(g){var e,f;g.preventDefault(),b(),e=a(this).data('key'),f={action:'set_default',key:e},a.post(woosw_vars.ajax_url,f,function(b){b=JSON.parse(b),b.count!=null&&d(b.count),a('.woosw-btn').removeClass('woosw-added').html(woosw_vars.button_text),b.products!=null&&b.products.length&&b.products.forEach(b=>{a('.woosw-btn-'+b).addClass('woosw-added').html(woosw_vars.button_text_added)}),a('#woosw_manage').html(b.content),a('#woosw_wishlist').removeClass('woosw-loaded'),c()})}),a(document).on('click touch','.woosw-delete-wishlist',function(f){var d,e;f.preventDefault(),confirm(woosw_vars.delete_confirm)&&(b(),d=a(this).data('key'),e={action:'delete_wishlist',key:d},a.post(woosw_vars.ajax_url,e,function(b){a('#woosw_manage').html(b),a('#woosw_wishlist').removeClass('woosw-loaded'),c()}))}),a(document).on('click touch','.woosw-view-wishlist',function(g){var d,f;g.preventDefault(),b(),d=a(this).data('key'),f={action:'view_wishlist',key:d},a.post(woosw_vars.ajax_url,f,function(b){h(),a('#woosw_wishlist').removeClass('woosw-loaded').html(b),e(),c()})}),a(document).on('click touch','.woosw-menu-item a',function(b){b.preventDefault(),woosw_vars.menu_action==='open_popup'&&(a('#woosw_wishlist').hasClass('woosw-loaded')?e():i())}),a(document).on('click touch','#woosw_copy_url, #woosw_copy_btn',function(a){a.preventDefault(),o('#woosw_copy_url')}),a(document).on('click touch','.woosw-item--note',function(){a(this).closest('.woosw-item').find('.woosw-item--note-add').length&&(a(this).closest('.woosw-item').find('.woosw-item--note-add').show(),a(this).hide())}),a(document).on('click touch','.woosw_add_note',function(i){var d,e,f,g,h;i.preventDefault(),b(),d=a(this),e=d.closest('.woosw-popup-inner').data('key'),f=d.closest('.woosw-item').attr('data-id'),g=d.closest('.woosw-item').find('input[type="text"]').val(),h={action:'add_note',woosw_key:e,product_id:f,note:p(g)},a.post(woosw_vars.ajax_url,h,function(a){d.closest('.woosw-item').find('.woosw-item--note').html(a).show(),d.closest('.woosw-item').find('.woosw-item--note-add').hide(),c()})});function i(){var b={action:'wishlist_load'};a.post(woosw_vars.ajax_url,b,function(b){a('#woosw_wishlist').removeClass('woosw-message'),b=JSON.parse(b),b.content!=null&&a('#woosw_wishlist').html(b.content),b.count!=null&&d(b.count),b.notice!=null&&g(b.notice),a('#woosw_wishlist').addClass('woosw-loaded'),j(),e()})}function k(){var b={action:'wishlist_load_count'};a.post(woosw_vars.ajax_url,b,function(b){if(b=JSON.parse(b),b.count!=null){var c=b.count;d(c),a(document.body).trigger('woosw_load_count',[c])}})}function e(){var b,c;a('#woosw_wishlist').addClass('woosw-show'),a('#woosw_wishlist').hasClass('woosw-message')&&(b=6,c=setInterval(function(){b--,a('.woosw-popup-close').html('Close in '+b+'s'),b===0&&(f(),a('.woosw-popup-close').html(''),clearInterval(c))},1e3)),a(document.body).trigger('woosw_wishlist_show')}function f(){a('#woosw_wishlist').removeClass('woosw-show'),a(document.body).trigger('woosw_wishlist_hide')}function n(){a('#woosw_manage').addClass('woosw-show'),a(document.body).trigger('woosw_manage_show')}function h(){a('#woosw_manage').removeClass('woosw-show'),a(document.body).trigger('woosw_manage_hide')}function b(){a('.woosw-popup').addClass('woosw-loading')}function c(){a('.woosw-popup').removeClass('woosw-loading')}function d(b){a('#woosw_wishlist .woosw-count').html(b),parseInt(b)>0?a('.woosw-empty').show():a('.woosw-empty').hide(),a('.woosw-menu-item .woosw-menu-item-inner').length?a('.woosw-menu-item .woosw-menu-item-inner').attr('data-count',b):a('.woosw-menu-item a').html('<span class="woosw-menu-item-inner" data-count="'+b+'"><i class="woosw-icon"></i><span>'+woosw_vars.menu_text+'</span></span>'),a(document.body).trigger('woosw_change_count',[b])}function g(b){a('.woosw-notice').html(b),l(),setTimeout(function(){m()},3e3)}function l(){a('#woosw_wishlist .woosw-notice').addClass('woosw-notice-show')}function m(){a('#woosw_wishlist .woosw-notice').removeClass('woosw-notice-show')}function j(){woosw_vars.perfect_scrollbar==='yes'&&jQuery('#woosw_wishlist .woosw-popup-content-mid').perfectScrollbar({theme:'wpc'})}function t(){var a=document.getElementById('woosw_copy_url');a.select(),document.execCommand('copy'),alert(woosw_vars.copied_text+' '+a.value)}function o(a){var d,e,b,c;a=typeof a=='string'?document.querySelector(a):a,navigator.userAgent.match(/ipad|ipod|iphone/i)?(d=a.contentEditable,e=a.readOnly,a.contentEditable=!0,a.readOnly=!0,b=document.createRange(),b.selectNodeContents(a),c=window.getSelection(),c.removeAllRanges(),c.addRange(b),a.setSelectionRange(0,999999),a.contentEditable=d,a.readOnly=e):a.select(),document.execCommand('copy'),alert(woosw_vars.copied_text+' '+a.value)}function p(a){return String(a).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;')}function q(){for(var a=[],b='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789',d=b.length,c=0;c<6;c++)a.push(b.charAt(Math.floor(Math.random()*d)));return a.join('')}function r(b,c,d){var a=new Date,e;a.setTime(a.getTime()+d*24*60*60*1e3),e='expires='+a.toUTCString(),document.cookie=b+'='+c+'; '+e+'; path=/'}function s(e){for(var c=e+'=',d=document.cookie.split(';'),b=0,a;b<d.length;b++){for(a=d[b];a.charAt(0)==' ';)a=a.substring(1);if(a.indexOf(c)==0)return decodeURIComponent(a.substring(c.length,a.length))}return''}})(jQuery)